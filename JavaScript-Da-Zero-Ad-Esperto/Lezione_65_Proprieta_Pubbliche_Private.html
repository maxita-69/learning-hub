<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propriet√† Pubbliche e Private - ES2019</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1em;
            color: #7f8c8d;
            font-style: italic;
        }
        
        h2 {
            font-size: 1.8em;
            color: #2c3e50;
            margin-top: 40px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        h3 {
            font-size: 1.3em;
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .code-block {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            border-left: 4px solid #3498db;
        }
        
        .code-block pre {
            margin: 0;
            white-space: pre;
        }
        
        .keyword {
            color: #ff79c6;
        }
        
        .function {
            color: #50fa7b;
        }
        
        .string {
            color: #f1fa8c;
        }
        
        .comment {
            color: #6272a4;
            font-style: italic;
        }
        
        .operator {
            color: #ff79c6;
        }
        
        .output {
            background-color: #1e1e1e;
            color: #4ec9b0;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            border-left: 4px solid #4ec9b0;
        }
        
        .inline-code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            color: #e74c3c;
            font-size: 0.95em;
        }
        
        .important {
            background-color: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .important strong {
            color: #0c5460;
        }
        
        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #856404;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning strong {
            color: #856404;
        }
        
        .feature-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .feature-box h4 {
            color: white;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .comparison-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        
        .comparison-item h4 {
            color: #3498db;
            margin-bottom: 10px;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 10px;
        }
        
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Propriet√† Pubbliche e Private in JavaScript</h1>
            <p class="subtitle">Novit√† ES2019 - Public e Private Class Fields</p>
        </header>

        <section>
            <h2>Introduzione</h2>
            <p>
                Con <strong>ES2019 (ECMAScript 2019)</strong>, JavaScript ha introdotto la possibilit√† di 
                definire propriet√† di classe in modo pi√π moderno e intuitivo, sia pubbliche che private. 
                Prima di questa novit√†, le propriet√† venivano definite esclusivamente all'interno del 
                costruttore utilizzando <span class="inline-code">this</span>.
            </p>
            
            <div class="important">
                <strong>Nota importante:</strong> Le propriet√† pubbliche e private ES2019 non utilizzano 
                le keyword <span class="inline-code">var</span>, <span class="inline-code">let</span> 
                o <span class="inline-code">const</span>. Si scrivono direttamente all'interno del corpo 
                della classe.
            </div>
        </section>

        <section>
            <h2>Metodo Tradizionale vs ES2019</h2>
            
            <h3>Prima di ES2019</h3>
            
            <p>
                Prima dell'introduzione delle public class fields, tutte le propriet√† dovevano essere 
                definite all'interno del costruttore:
            </p>

            <div class="code-block"><pre><span class="keyword">class</span> <span class="function">User</span> {
    <span class="function">constructor</span>(nome) {
        <span class="keyword">this</span>.nome = nome;
        <span class="keyword">this</span>.avatar = <span class="string">''</span>; <span class="comment">// Propriet√† definita nel costruttore</span>
    }
}</pre>
            </div>

            <h3>Con ES2019 - Propriet√† Pubbliche</h3>

            <p>
                Da ES2019 possiamo definire propriet√† <strong>direttamente nel corpo della classe</strong>, 
                fuori dal costruttore:
            </p>

            <div class="code-block"><pre><span class="keyword">class</span> <span class="function">UserClass</span> {
    <span class="comment">// Propriet√† pubblica definita fuori dal costruttore</span>
    avatar = <span class="string">'nessun avatar'</span>;
    
    <span class="function">constructor</span>(nome) {
        <span class="keyword">this</span>.nome = nome;
    }
}</pre>
            </div>

            <div class="important">
                <strong>Equivalenza importante:</strong> Scrivere <span class="inline-code">avatar = 'nessun avatar'</span> 
                nel corpo della classe √® equivalente a scrivere <span class="inline-code">this.avatar = 'nessun avatar'</span> 
                nel costruttore. Il risultato finale √® identico.
            </div>
        </section>

        <section>
            <h2>Propriet√† Pubbliche - Esempio Completo</h2>
            
            <p>
                Vediamo un esempio pratico di utilizzo delle propriet√† pubbliche:
            </p>

            <div class="code-block"><pre><span class="keyword">class</span> <span class="function">UserClass</span> {
    <span class="comment">// Propriet√† pubblica</span>
    avatar = <span class="string">'nessun avatar'</span>;
    
    <span class="function">constructor</span>(nome) {
        <span class="keyword">this</span>.nome = nome;
    }
}

<span class="comment">// Istanziamo un oggetto</span>
<span class="keyword">const</span> monica = <span class="keyword">new</span> <span class="function">UserClass</span>(<span class="string">"Monica"</span>);

<span class="comment">// Accesso alla propriet√† pubblica</span>
<span class="function">console</span>.<span class="function">log</span>(monica.avatar);</pre>
            </div>

            <div class="output">Output: "nessun avatar"</div>

            <p>
                La propriet√† <span class="inline-code">avatar</span> √® <strong>pubblica</strong>, 
                quindi √® accessibile attraverso l'oggetto utilizzando la dot notation 
                (<span class="inline-code">monica.avatar</span>).
            </p>
        </section>

        <section>
            <h2>Propriet√† Private - Il Cancelletto (#)</h2>
            
            <p>
                ES2019 introduce anche le <strong>propriet√† private</strong>, che non sono accessibili 
                dall'esterno della classe. Per definire una propriet√† privata si utilizza il 
                <strong>cancelletto (#)</strong> prima del nome della propriet√†.
            </p>

            <div class="feature-box">
                <h4>üîí Propriet√† Private</h4>
                <p>
                    Una propriet√† privata √® accessibile <strong>solo internamente alla classe</strong> 
                    e non pu√≤ essere acceduta o modificata tramite gli oggetti istanziati dalla classe.
                </p>
            </div>

            <h3>Sintassi delle Propriet√† Private</h3>

            <div class="code-block"><pre><span class="keyword">class</span> <span class="function">UserClass</span> {
    avatar = <span class="string">'nessun avatar'</span>;     <span class="comment">// Propriet√† pubblica</span>
    #privata = <span class="string">'Propriet√† privata'</span>; <span class="comment">// Propriet√† privata</span>
    
    <span class="function">constructor</span>(nome) {
        <span class="keyword">this</span>.nome = nome;
    }
}</pre>
            </div>

            <div class="important">
                <strong>Sintassi importante:</strong> Il cancelletto <span class="inline-code">#</span> 
                fa parte del nome della propriet√†. Per accedere alla propriet√† privata all'interno 
                della classe, si deve sempre utilizzare <span class="inline-code">this.#privata</span>, 
                non solo <span class="inline-code">this.privata</span>.
            </div>
        </section>

        <section>
            <h2>Tentativo di Accesso Esterno alle Propriet√† Private</h2>
            
            <p>
                Cosa succede se proviamo ad accedere a una propriet√† privata dall'esterno della classe?
            </p>

            <h3>Primo Tentativo - Senza Cancelletto</h3>

            <div class="code-block"><pre><span class="keyword">const</span> monica = <span class="keyword">new</span> <span class="function">UserClass</span>(<span class="string">"Monica"</span>);

<span class="comment">// Tentativo di accesso alla propriet√† privata</span>
<span class="function">console</span>.<span class="function">log</span>(monica.privata);</pre>
            </div>

            <div class="output">Output: undefined</div>

            <p>
                Otteniamo <span class="inline-code">undefined</span> perch√© JavaScript cerca una 
                propriet√† chiamata <span class="inline-code">privata</span> (senza cancelletto), 
                che non esiste nell'oggetto.
            </p>

            <h3>Secondo Tentativo - Con Cancelletto</h3>

            <div class="code-block"><pre><span class="keyword">const</span> monica = <span class="keyword">new</span> <span class="function">UserClass</span>(<span class="string">"Monica"</span>);

<span class="comment">// Tentativo con la sintassi del cancelletto</span>
<span class="function">console</span>.<span class="function">log</span>(monica.#privata);</pre>
            </div>

            <div class="output">‚ùå Uncaught SyntaxError: Private field '#privata' must be declared in an enclosing class</div>

            <p>
                Questa volta otteniamo un <strong>errore di sintassi</strong>. JavaScript ci dice 
                chiaramente che il campo privato <span class="inline-code">#privata</span> deve 
                essere dichiarato all'interno di una classe e non pu√≤ essere acceduto dall'esterno.
            </p>

            <div class="warning">
                <strong>‚ö†Ô∏è Importante:</strong> Le propriet√† private NON sono accessibili dall'esterno 
                della classe in nessun modo. Non √® una questione di convenzione o best practice, 
                ma una vera e propria restrizione del linguaggio che genera errori.
            </div>
        </section>

        <section>
            <h2>Accesso Interno alle Propriet√† Private</h2>
            
            <p>
                Per accedere a una propriet√† privata, dobbiamo creare un <strong>metodo pubblico</strong> 
                all'interno della classe che restituisca il valore della propriet√† privata.
            </p>

            <h3>Implementazione del Metodo getPriv()</h3>

            <div class="code-block"><pre><span class="keyword">class</span> <span class="function">UserClass</span> {
    avatar = <span class="string">'nessun avatar'</span>;
    #privata = <span class="string">'Propriet√† privata'</span>;
    
    <span class="function">constructor</span>(nome) {
        <span class="keyword">this</span>.nome = nome;
    }
    
    <span class="comment">// Metodo pubblico per accedere alla propriet√† privata</span>
    <span class="function">getPriv</span>() {
        <span class="keyword">return</span> <span class="keyword">this</span>.#privata; <span class="comment">// Accesso interno con #</span>
    }
}</pre>
            </div>

            <h3>Utilizzo del Metodo</h3>

            <div class="code-block"><pre><span class="keyword">const</span> monica = <span class="keyword">new</span> <span class="function">UserClass</span>(<span class="string">"Monica"</span>);

<span class="comment">// Accesso alla propriet√† privata tramite metodo pubblico</span>
<span class="function">console</span>.<span class="function">log</span>(monica.<span class="function">getPriv</span>());</pre>
            </div>

            <div class="output">Output: "Propriet√† privata"</div>

            <p>
                Questa volta funziona! Il metodo <span class="inline-code">getPriv()</span> √® 
                <strong>pubblico</strong> e pu√≤ essere invocato dall'esterno. All'interno del metodo, 
                per√≤, abbiamo accesso alla propriet√† privata perch√© il codice viene eseguito nel 
                contesto della classe.
            </p>

            <div class="important">
                <strong>Pattern comune:</strong> Questo pattern di creare metodi pubblici (getter) 
                per accedere a propriet√† private √® molto comune in programmazione orientata agli 
                oggetti. Permette di <strong>controllare l'accesso</strong> ai dati interni della classe.
            </div>
        </section>

        <section>
            <h2>Confronto: Pubbliche vs Private</h2>
            
            <div class="comparison-box">
                <div class="comparison-item">
                    <h4>üåê Propriet√† Pubbliche</h4>
                    <ul>
                        <li>Sintassi: <code>nomePropriet√† = valore</code></li>
                        <li>Accessibili da oggetti</li>
                        <li>Modificabili dall'esterno</li>
                        <li>Visibili in console.log()</li>
                        <li>Uso: dati che devono essere accessibili</li>
                    </ul>
                </div>
                
                <div class="comparison-item">
                    <h4>üîí Propriet√† Private</h4>
                    <ul>
                        <li>Sintassi: <code>#nomePropriet√† = valore</code></li>
                        <li>NON accessibili da oggetti</li>
                        <li>NON modificabili dall'esterno</li>
                        <li>NON visibili in console.log()</li>
                        <li>Uso: dati interni della classe</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>Esempio Completo e Riepilogativo</h2>
            
            <div class="code-block"><pre><span class="keyword">class</span> <span class="function">UserClass</span> {
    <span class="comment">// Propriet√† pubblica - accessibile ovunque</span>
    avatar = <span class="string">'nessun avatar'</span>;
    
    <span class="comment">// Propriet√† privata - accessibile solo internamente</span>
    #privata = <span class="string">'Propriet√† privata'</span>;
    
    <span class="function">constructor</span>(nome) {
        <span class="keyword">this</span>.nome = nome;
    }
    
    <span class="comment">// Metodo pubblico per accedere alla propriet√† privata</span>
    <span class="function">getPriv</span>() {
        <span class="keyword">return</span> <span class="keyword">this</span>.#privata;
    }
}

<span class="comment">// Istanziazione</span>
<span class="keyword">const</span> monica = <span class="keyword">new</span> <span class="function">UserClass</span>(<span class="string">"Monica"</span>);

<span class="comment">// ‚úÖ Accesso a propriet√† pubblica - FUNZIONA</span>
<span class="function">console</span>.<span class="function">log</span>(monica.avatar);        <span class="comment">// "nessun avatar"</span>

<span class="comment">// ‚ùå Accesso diretto a propriet√† privata - NON FUNZIONA</span>
<span class="function">console</span>.<span class="function">log</span>(monica.privata);      <span class="comment">// undefined</span>
<span class="function">console</span>.<span class="function">log</span>(monica.#privata);     <span class="comment">// SyntaxError!</span>

<span class="comment">// ‚úÖ Accesso tramite metodo pubblico - FUNZIONA</span>
<span class="function">console</span>.<span class="function">log</span>(monica.<span class="function">getPriv</span>());     <span class="comment">// "Propriet√† privata"</span></pre>
            </div>
        </section>

        <section>
            <h2>Quando Usare Propriet√† Private?</h2>
            
            <p>Le propriet√† private sono utili in diversi scenari:</p>

            <ul>
                <li><strong>Incapsulamento:</strong> Nascondere dettagli implementativi che non devono essere esposti</li>
                <li><strong>Protezione dei dati:</strong> Impedire modifiche accidentali da codice esterno</li>
                <li><strong>Validazione:</strong> Forzare l'uso di metodi specifici che validano i dati prima di modificarli</li>
                <li><strong>Manutenibilit√†:</strong> Cambiare l'implementazione interna senza impattare il codice esterno</li>
                <li><strong>Sicurezza:</strong> Evitare che dati sensibili siano accessibili direttamente</li>
            </ul>

            <div class="feature-box">
                <h4>üí° Best Practice</h4>
                <p>
                    Usa propriet√† private per tutti i dati che rappresentano lo <strong>stato interno</strong> 
                    della classe e che non devono essere modificati direttamente dall'esterno. Esponi 
                    l'accesso a questi dati solo attraverso metodi pubblici che possono implementare 
                    logica di validazione e controllo.
                </p>
            </div>
        </section>

        <section>
            <h2>Compatibilit√† Browser</h2>
            
            <div class="warning">
                <strong>‚ö†Ô∏è Nota sulla Compatibilit√†:</strong> Come menzionato nella lezione, 
                le propriet√† private potrebbero non essere supportate in versioni datate di alcuni browser. 
                Al momento della registrazione della lezione (2019), Firefox non supportava ancora 
                completamente questa feature. Oggi (2024) il supporto √® molto pi√π ampio, ma √® sempre 
                bene verificare su <a href="https://caniuse.com" target="_blank">caniuse.com</a> 
                se si deve supportare browser legacy.
            </div>

            <p><strong>Browser con supporto completo (versioni moderne):</strong></p>
            <ul>
                <li>Google Chrome 74+</li>
                <li>Firefox 90+</li>
                <li>Safari 14.1+</li>
                <li>Edge 79+</li>
            </ul>
        </section>

        <section>
            <h2>Conclusioni</h2>
            
            <p>In questa lezione abbiamo imparato:</p>

            <ul>
                <li>Le <strong>propriet√† pubbliche</strong> ES2019 possono essere definite fuori dal costruttore</li>
                <li>Non si usano <span class="inline-code">var</span>, <span class="inline-code">let</span> 
                    o <span class="inline-code">const</span> per le propriet√† di classe</li>
                <li>Le <strong>propriet√† private</strong> si definiscono con il cancelletto <span class="inline-code">#</span></li>
                <li>Le propriet√† private NON sono accessibili dall'esterno della classe</li>
                <li>Per accedere a propriet√† private serve un <strong>metodo pubblico</strong></li>
                <li>L'uso di propriet√† private favorisce l'<strong>incapsulamento</strong> e la sicurezza del codice</li>
            </ul>

            <div class="important">
                <strong>Prossimo passo:</strong> Nella prossima lezione vedremo i <strong>metodi getter e setter</strong>, 
                che permettono di accedere e modificare propriet√† utilizzando una sintassi simile a quella 
                delle propriet√†, pur mantenendo il controllo attraverso metodi.
            </div>
        </section>

        <footer>
            <p><strong>Corso:</strong> JavaScript - Da Zero ad Esperto</p>
            <p><strong>Lezione 65:</strong> Propriet√† Pubbliche e Private (ES2019)</p>
            <p style="margin-top: 15px; font-size: 0.85em;">
                Manuale creato il 28 Dicembre 2024
            </p>
        </footer>
    </div>
</body>
</html>